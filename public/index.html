<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Bootstrap -->
    <link rel="stylesheet" href="./css/bootstrap/bootstrap.min.css" />
    <script src="./js/bootstrap/bootstrap.bundle.min.js"></script>

    <!-- Manifest -->
    <link rel="manifest" href="./manifest.json" />

    <link rel="icon" href="./favicon.ico" type="image/x-icon" />

    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My PWA</title>
  </head>
  <body>
    <div class="container">
      <h1>My first PWA</h1>

      <div>
        <button class="btn btn-primary" id="btn-api">Test</button>
        <button class="btn btn-secondary" id="btnInstall" hidden>Instalar</button>
      </div>
      <div class="mt-2" id="api-content"></div>
    </div>

    <div class="mt-4">
      <footer class="bg-light text-center text-lg-start">
        <!-- Grid -->
        <div class="container p-4">
          <!-- Grid row -->
          <div class="row">
            <!-- Grid column -->
            <div class="col-lg-6 col-md-12 mb-4 mb-md-0">
              <h5 class="text-uppercase">My PWA</h5>
              <p>
                Esta página está desarrollada como una progressive web application para
                la asignatura de Nuevas Tecnologías de Desarrollo. Incorpora un API que permite
                realizar búsquedas relacionadas con anime. No se espera que sea algo fuera
                de lo académico, así que no hay que preocuparse por asuntos legales de momento.
              </p>
            </div>
            <!-- Grid column -->

            <!--Grid column-->
            <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
              <h5 class="text-uppercase">Recursos</h5>

              <ul class="list-unstyled mb-0">
                <li>
                  <a href="https://mdbootstrap.com/docs/standard/navigation/footer/" class="text-dark">Footer</a>
                </li>
                <li>
                  <a href="https://anilist.gitbook.io/anilist-apiv2-docs/" class="text-dark">Anilist API</a>
                </li>
                <li>
                  <a href="https://getbootstrap.com/docs/5.0/getting-started/introduction/" class="text-dark">Bootstrap</a>
                </li>
                <li>
                  <a href="https://web.dev/progressive-web-apps/" class="text-dark">Google PWA's</a>
                </li>
              </ul>
            </div>
            <!--Grid column-->
          </div>
        </div>
        <!-- Grid -->

        <!-- Copy -->
        <div
          class="text-center p-3"
          style="background-color: rgba(0, 0, 0, 0.2)"
        >
          Aplicación no comercial
        </div>
        <!-- Copy -->
      </footer>
    </div>

    <!-- Manejo de peticiones a la API -->
    <script src="./js/api-handler.js"></script>

    <!-- Instalador de la pwa -->
    <script src="./js/install.js"></script>

    <!-- Registering the service worker -->
    <script>
      if ("serviceWorker" in navigator) {
        window.addEventListener("load", () => {
          navigator.serviceWorker.register("/service-worker.js").then((reg) => {
            console.log("Service worker registered.", reg);
          });
        });
      }
    </script>
  </body>
</html>
